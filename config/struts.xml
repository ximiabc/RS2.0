<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<!-- 配置 -->
	<include file="struts_config.xml"></include>
	<!-- 最高管理-->
	<include file="struts_admin.xml"></include>
	<!-- 普通管理-->
	<include file="struts_manage.xml"></include>
	<!-- 校长管理-->
	<include file="struts_master.xml"></include>
	<!-- 老师管理-->
	<include file="struts_teacher.xml"></include>
	
	<package name="index" extends="struts-default" namespace="/">
		<!-- 公共界面跳转 -->
		<action name="view*" class="cn.lzf.stsys.pro.action.publics.PublicAction" method="{1}">
			<!-- index -->
			<result name="index">/WEB-INF/view/public/index.jsp</result>
			<!-- exit -->
			<result name="exit">/exit.jsp</result>
			
			<!-- 学生登录登录 -->
			<!-- <result name="student" type="chain">studentindex</result> -->
		</action>
		
		<!-- 测试导出excel -->
		<action name="Export*" class="com.zqrc.rs.pro.test.excel.ExportAction" method="{1}">
			<result name="excel" type="stream">  
                <param name="contentType">  
                    application/vnd.ms-excel  
                </param>  
                <param name="inputName">excelStream</param>  
                <param name="contentDisposition">  
                    filename="export.xls"  
                </param>  
                <param name="bufferSize">1024</param>  
            </result>  
            <param name="savePath">/WebRoot/test</param>  
            <result name="input">/index.jsp</result>
             <interceptor-ref name="fileUpload">
                <!-- 文件过滤 -->
                <param name="allowedTypes">xls</param>
                <!-- 文件大小, 以字节为单位 -->
                <param name="maximumSize">1025956</param>
            </interceptor-ref>
            <!-- 默认拦截器必须放在fileUpload之后，否则无效 -->
            <interceptor-ref name="defaultStack" />
		</action>
	</package>

</struts>    
