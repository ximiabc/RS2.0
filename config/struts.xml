<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
	<!-- 配置 -->
	<include file="struts_config.xml"></include>
	<!-- 最高管理-->
	<include file="struts_admin.xml"></include>
	<!-- 普通管理-->
	<include file="struts_manage.xml"></include>
	<!-- 校长管理-->
	<include file="struts_master.xml"></include>
	<!-- 老师管理-->
	<include file="struts_teacher.xml"></include>
	
	<package name="index" extends="struts-default" namespace="/">
		<!-- 公共界面跳转 -->
		<action name="view*" class="com.zqrc.rs.pro.action.PublicAction" method="{1}">
			<!-- 登录页 -->
			<result name="index">/WEB-INF/view/login.jsp</result>
			<!-- exit -->
			<result name="exit">/exit.jsp</result>
		</action>
		
		<!-- 登录验证码 -->
		<action name="images" class="com.zqrc.rs.pro.action.SecurityCodeImageAction">
			<result name="success" type="stream">  
            	<param name="contentType">image/jpeg</param>  
                <param name="inputName">imageStream</param>  
                <param name="bufferSize">2048</param>  
            </result>
		</action>
		
		<!-- 登录控制 -->
		<action name="login" class="com.zqrc.rs.pro.action.UserAction">
			<!-- 登录成功 -->
			<result name="success">/WEB-INF/view/frame.jsp</result>
			<!-- 登录失败 -->
			<result name="failed">/WEB-INF/view/login.jsp</result>
		</action>
		
		<!-- 测试 excelout -->
		<action name="excel*" method="{1}" class="com.zqrc.rs.pro.action.ExcelAction">
	        <!-- 导出excel -->
	        <result name="excel" type="stream">
	            <param name="contentType">application/vnd.ms-excel</param>    <!-- 注意这里的ContentType -->
	            <param name="inputName">excelStream</param>                   <!-- 这里需要和Action里的变量名一致 -->
	            <param name="contentDisposition">filename="excel.xls"</param> <!-- 下载文件的名字 -->
	            <param name="bufferSize">10240</param>  <!-- 下载文件的大小 10485760=10M -->
	        </result>
	    </action>
		
		<action name="audit*" method="{1}" class="com.zqrc.rs.pro.action.AuditAction">
			<result name="PrimaryIn">/WEB-INF/view/admin/primary_Parameter_In.jsp</result>
			<result name="PrimaryOut">/WEB-INF/view/admin/primary_Parameter_Out.jsp</result>
			<result name="MiddleIn">/WEB-INF/view/admin/primary_middle_In.jsp</result>
			<result name="MiddleOut">/WEB-INF/view/admin/primary_middle_Out.jsp</result>
		</action>
		
	</package>

</struts>    
